import{_ as s,c as n,o as p,ag as e}from"./chunks/framework.dvv-DFtf.js";const A=JSON.parse('{"title":"AI Factory V3 - Diagrama Simplificado","description":"","frontmatter":{},"headers":[],"relativePath":"_archive/diagrama.md","filePath":"_archive/diagrama.md"}'),t={name:"_archive/diagrama.md"};function l(i,a,d,o,c,r){return p(),n("div",null,[...a[0]||(a[0]=[e(`<h1 id="ai-factory-v3-diagrama-simplificado" tabindex="-1">AI Factory V3 - Diagrama Simplificado <a class="header-anchor" href="#ai-factory-v3-diagrama-simplificado" aria-label="Permalink to &quot;AI Factory V3 - Diagrama Simplificado&quot;">​</a></h1><h2 id="fluxo-principal-ciclo-de-vida-do-agente" tabindex="-1">Fluxo Principal (Ciclo de Vida do Agente) <a class="header-anchor" href="#fluxo-principal-ciclo-de-vida-do-agente" aria-label="Permalink to &quot;Fluxo Principal (Ciclo de Vida do Agente)&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>                    ENTRADA</span></span>
<span class="line"><span>                       │</span></span>
<span class="line"><span>                       ▼</span></span>
<span class="line"><span>    ┌──────────────────────────────────────┐</span></span>
<span class="line"><span>    │  1. ARQUIVO CALL NO GOOGLE DRIVE     │</span></span>
<span class="line"><span>    │     /7. Calls/                       │</span></span>
<span class="line"><span>    └──────────────────────────────────────┘</span></span>
<span class="line"><span>                       │</span></span>
<span class="line"><span>                       ▼</span></span>
<span class="line"><span>    ┌──────────────────────────────────────┐</span></span>
<span class="line"><span>    │  2. 01-ORGANIZADOR-CALLS             │</span></span>
<span class="line"><span>    │                                      │</span></span>
<span class="line"><span>    │  • Classifica por prefixo            │</span></span>
<span class="line"><span>    │  • Move para subpasta correta        │</span></span>
<span class="line"><span>    │  • Registra no Supabase              │</span></span>
<span class="line"><span>    └──────────────────────────────────────┘</span></span>
<span class="line"><span>                       │</span></span>
<span class="line"><span>          ┌────────────┼────────────┐</span></span>
<span class="line"><span>          │            │            │</span></span>
<span class="line"><span>          ▼            ▼            ▼</span></span>
<span class="line"><span>    ┌──────────┐ ┌──────────┐ ┌──────────┐</span></span>
<span class="line"><span>    │/1.Vendas│ │/2.Onboard│ │/3.Revisao│</span></span>
<span class="line"><span>    └────┬─────┘ └────┬─────┘ └────┬─────┘</span></span>
<span class="line"><span>         │            │            │</span></span>
<span class="line"><span>         ▼            ▼            ▼</span></span>
<span class="line"><span>    ┌──────────┐ ┌──────────┐ ┌──────────┐</span></span>
<span class="line"><span>    │ 02-Head  │ │ 03-Call  │ │ 06-Call  │</span></span>
<span class="line"><span>    │ Vendas   │ │ Analyzer │ │ Revisao  │</span></span>
<span class="line"><span>    │          │ │ Onboard  │ │          │</span></span>
<span class="line"><span>    │ Score    │ │ Cria     │ │ Atualiza │</span></span>
<span class="line"><span>    │ BANT/SPIN│ │ Agente   │ │ Agente   │</span></span>
<span class="line"><span>    └──────────┘ └────┬─────┘ └──────────┘</span></span>
<span class="line"><span>                      │</span></span>
<span class="line"><span>                      ▼</span></span>
<span class="line"><span>    ┌──────────────────────────────────────┐</span></span>
<span class="line"><span>    │  3. SUPABASE - agent_versions        │</span></span>
<span class="line"><span>    │     status: pending_approval         │</span></span>
<span class="line"><span>    └──────────────────────────────────────┘</span></span>
<span class="line"><span>                      │</span></span>
<span class="line"><span>                      ▼ (poll a cada 5 min)</span></span>
<span class="line"><span>    ┌──────────────────────────────────────┐</span></span>
<span class="line"><span>    │  4. 08-BOOT-VALIDATOR                │</span></span>
<span class="line"><span>    │                                      │</span></span>
<span class="line"><span>    │  • Simula 7-10 cenarios              │</span></span>
<span class="line"><span>    │  • Avalia Tom, Compliance, Clareza   │</span></span>
<span class="line"><span>    │  • Nota &gt;= 8.0 → APROVADO            │</span></span>
<span class="line"><span>    │  • Nota 6.0-7.9 → COM RESTRICOES     │</span></span>
<span class="line"><span>    │  • Nota &lt; 6.0 → BLOQUEADO            │</span></span>
<span class="line"><span>    └──────────────────────────────────────┘</span></span>
<span class="line"><span>                      │</span></span>
<span class="line"><span>        ┌─────────────┼─────────────┐</span></span>
<span class="line"><span>        │             │             │</span></span>
<span class="line"><span>        ▼             ▼             ▼</span></span>
<span class="line"><span>   APROVADO     COM RESTRICOES  BLOQUEADO</span></span>
<span class="line"><span>   (auto-ativa)  (notifica)    (notifica)</span></span>
<span class="line"><span>        │</span></span>
<span class="line"><span>        ▼</span></span>
<span class="line"><span>    ┌──────────────────────────────────────┐</span></span>
<span class="line"><span>    │  5. AGENTE ATIVO EM PRODUCAO         │</span></span>
<span class="line"><span>    │     is_active = true                 │</span></span>
<span class="line"><span>    └──────────────────────────────────────┘</span></span>
<span class="line"><span>                      │</span></span>
<span class="line"><span>                      │ Webhook GHL</span></span>
<span class="line"><span>                      ▼</span></span>
<span class="line"><span>    ┌──────────────────────────────────────┐</span></span>
<span class="line"><span>    │  6. 05-AI-AGENT-EXECUTION-MODULAR    │</span></span>
<span class="line"><span>    │                                      │</span></span>
<span class="line"><span>    │  • Recebe mensagem do lead           │</span></span>
<span class="line"><span>    │  • Busca agente ativo                │</span></span>
<span class="line"><span>    │  • Identifica modo (scheduler, etc)  │</span></span>
<span class="line"><span>    │  • Executa IA com prompt do modo     │</span></span>
<span class="line"><span>    │  • Envia resposta via GHL            │</span></span>
<span class="line"><span>    │  • Salva conversa no Supabase        │</span></span>
<span class="line"><span>    └──────────────────────────────────────┘</span></span>
<span class="line"><span>                      │</span></span>
<span class="line"><span>                      ▼ (poll a cada 1h)</span></span>
<span class="line"><span>    ┌──────────────────────────────────────┐</span></span>
<span class="line"><span>    │  7. 09-QA-ANALYST                    │</span></span>
<span class="line"><span>    │                                      │</span></span>
<span class="line"><span>    │  • Busca conversas nao analisadas    │</span></span>
<span class="line"><span>    │  • Analisa 4 dimensoes               │</span></span>
<span class="line"><span>    │  • Se nota &lt; 6.0 → ALERTA            │</span></span>
<span class="line"><span>    │  • Relatorio diario 18h              │</span></span>
<span class="line"><span>    └──────────────────────────────────────┘</span></span></code></pre></div><hr><h2 id="tabela-rapida-de-workflows" tabindex="-1">Tabela Rapida de Workflows <a class="header-anchor" href="#tabela-rapida-de-workflows" aria-label="Permalink to &quot;Tabela Rapida de Workflows&quot;">​</a></h2><table tabindex="0"><thead><tr><th>#</th><th>Nome</th><th>Trigger</th><th>O que faz</th></tr></thead><tbody><tr><td>01</td><td>Organizador-Calls</td><td>G.Drive /7.Calls/</td><td>Classifica e move arquivos</td></tr><tr><td>02</td><td>AI-Agent-Head-Vendas</td><td>G.Drive /1.Vendas/</td><td>Analisa calls de diagnostico</td></tr><tr><td>03</td><td>Call-Analyzer-Onboarding</td><td>G.Drive /2.Onboard/</td><td>Cria agente a partir de kickoff</td></tr><tr><td>05</td><td>AI-Agent-Execution-Modular</td><td>Webhook GHL</td><td>Executa agente em producao</td></tr><tr><td>06</td><td>Call-Analyzer-Revisao</td><td>G.Drive /3.Revisao/</td><td>Analisa calls de revisao</td></tr><tr><td>07</td><td>Engenheiro-de-Prompt</td><td>Webhook</td><td>Ajustes manuais em prompts</td></tr><tr><td>08</td><td>Boot-Validator</td><td>Schedule 5min</td><td>Valida agentes automaticamente</td></tr><tr><td>09</td><td>QA-Analyst</td><td>Schedule 1h</td><td>Monitora performance</td></tr><tr><td>10</td><td>AI-Factory-V3-Unified</td><td>G.Drive</td><td>Fluxo unificado (alternativo)</td></tr></tbody></table><hr><h2 id="conexoes-entre-workflows" tabindex="-1">Conexoes entre Workflows <a class="header-anchor" href="#conexoes-entre-workflows" aria-label="Permalink to &quot;Conexoes entre Workflows&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>01-Organizador-Calls</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       ├──▶ 02-AI-Agent-Head-Vendas (via pasta /1.Vendas/)</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       ├──▶ 03-Call-Analyzer-Onboarding (via pasta /2.Onboarding/)</span></span>
<span class="line"><span>       │         │</span></span>
<span class="line"><span>       │         └──▶ Cria agent_version → dispara 08-Boot-Validator</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       └──▶ 06-Call-Analyzer-Revisao (via pasta /3.Revisao/)</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>08-Boot-Validator</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       └──▶ Se aprovado, ativa agente → pode ser usado por 05-Execution</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>05-AI-Agent-Execution-Modular</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       └──▶ Salva conversas → analisadas por 09-QA-Analyst</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>07-Engenheiro-de-Prompt</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       └──▶ Cria novas versoes → validadas por 08-Boot-Validator</span></span></code></pre></div><hr><h2 id="bancos-de-dados-utilizados" tabindex="-1">Bancos de Dados Utilizados <a class="header-anchor" href="#bancos-de-dados-utilizados" aria-label="Permalink to &quot;Bancos de Dados Utilizados&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Tabela</th><th>Workflows que usam</th></tr></thead><tbody><tr><td><code>call_recordings</code></td><td>01, 02, 03, 06</td></tr><tr><td><code>agent_versions</code></td><td>03, 05, 07, 08, 09</td></tr><tr><td><code>clients</code></td><td>03, 07, 09</td></tr><tr><td><code>locations</code></td><td>02, 03, 05</td></tr><tr><td><code>agent_conversations</code></td><td>05, 09</td></tr><tr><td><code>agent_conversation_messages</code></td><td>05, 09</td></tr><tr><td><code>qa_analyses</code></td><td>09</td></tr><tr><td><code>call_counters</code></td><td>01</td></tr></tbody></table><hr><h2 id="apis-externas" tabindex="-1">APIs Externas <a class="header-anchor" href="#apis-externas" aria-label="Permalink to &quot;APIs Externas&quot;">​</a></h2><table tabindex="0"><thead><tr><th>API</th><th>Workflows</th><th>Uso</th></tr></thead><tbody><tr><td>Groq (Llama 3.3 70B)</td><td>02, 03, 05, 07</td><td>LLM principal</td></tr><tr><td>Anthropic (Claude)</td><td>08, 09, 10</td><td>Validacao e QA</td></tr><tr><td>Google Drive</td><td>01, 02, 03, 06</td><td>Monitorar pastas</td></tr><tr><td>GHL API</td><td>01, 02, 05, 08, 09</td><td>Contatos, mensagens, custom fields</td></tr></tbody></table>`,15)])])}const u=s(t,[["render",l]]);export{A as __pageData,u as default};
