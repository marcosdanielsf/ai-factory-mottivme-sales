import{_ as a,c as i,o as n,ag as e}from"./chunks/framework.dvv-DFtf.js";const d=JSON.parse('{"title":"ğŸ­ AI Factory V4 - Testing Framework","description":"","frontmatter":{},"headers":[],"relativePath":"referencias/testing-framework/README.md","filePath":"referencias/testing-framework/README.md"}'),t={name:"referencias/testing-framework/README.md"};function l(p,s,r,h,o,k){return n(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="ğŸ­-ai-factory-v4-testing-framework" tabindex="-1">ğŸ­ AI Factory V4 - Testing Framework <a class="header-anchor" href="#ğŸ­-ai-factory-v4-testing-framework" aria-label="Permalink to &quot;ğŸ­ AI Factory V4 - Testing Framework&quot;">â€‹</a></h1><p>Sistema completo de testes, validaÃ§Ã£o e auto-melhoria para agentes IA.</p><hr><h2 id="ğŸ¯-o-que-e" tabindex="-1">ğŸ¯ O Que Ã‰ <a class="header-anchor" href="#ğŸ¯-o-que-e" aria-label="Permalink to &quot;ğŸ¯ O Que Ã‰&quot;">â€‹</a></h2><p>Framework Python que:</p><ul><li>âœ… <strong>Testa agentes</strong> automaticamente com 20+ cenÃ¡rios</li><li>âœ… <strong>Avalia com LLM-as-Judge</strong> (Claude Opus)</li><li>âœ… <strong>Gera relatÃ³rios HTML</strong> profissionais</li><li>âœ… <strong>Auto-melhora</strong> agentes com score &lt; 8.0</li><li>âœ… <strong>Integra com Supabase</strong> (source of truth)</li><li>âœ… <strong>API REST</strong> para integraÃ§Ã£o com n8n</li></ul><hr><h2 id="ğŸ—ï¸-arquitetura" tabindex="-1">ğŸ—ï¸ Arquitetura <a class="header-anchor" href="#ğŸ—ï¸-arquitetura" aria-label="Permalink to &quot;ğŸ—ï¸ Arquitetura&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚   N8N Workflows (AI Factory V3)    â”‚</span></span>
<span class="line"><span>â”‚   - Cria agent_versions             â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>             â”‚</span></span>
<span class="line"><span>             â–¼ webhook</span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚   Testing Framework (Este Repo)    â”‚</span></span>
<span class="line"><span>â”‚   - Roda testes                     â”‚</span></span>
<span class="line"><span>â”‚   - Avalia com Claude Opus          â”‚</span></span>
<span class="line"><span>â”‚   - Gera relatÃ³rios                 â”‚</span></span>
<span class="line"><span>â”‚   - Auto-melhora se necessÃ¡rio      â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>             â”‚</span></span>
<span class="line"><span>             â–¼</span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚   Supabase (Database)               â”‚</span></span>
<span class="line"><span>â”‚   - agent_versions                  â”‚</span></span>
<span class="line"><span>â”‚   - agenttest_test_results          â”‚</span></span>
<span class="line"><span>â”‚   - agenttest_skills                â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>             â”‚</span></span>
<span class="line"><span>             â–¼</span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚   Dashboard (Next.js)               â”‚</span></span>
<span class="line"><span>â”‚   - Visualiza scores                â”‚</span></span>
<span class="line"><span>â”‚   - HistÃ³rico de testes             â”‚</span></span>
<span class="line"><span>â”‚   - Skills management               â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div><hr><h2 id="ğŸš€-quick-start" tabindex="-1">ğŸš€ Quick Start <a class="header-anchor" href="#ğŸš€-quick-start" aria-label="Permalink to &quot;ğŸš€ Quick Start&quot;">â€‹</a></h2><h3 id="_1-setup" tabindex="-1">1. Setup <a class="header-anchor" href="#_1-setup" aria-label="Permalink to &quot;1. Setup&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Clone</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/mottivme/ai-factory-testing-framework</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ai-factory-testing-framework</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Virtual environment</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv/bin/activate</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Windows: venv\\Scripts\\activate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Environment</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env.example</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Edit .env with your keys</span></span></code></pre></div><h3 id="_2-run-migrations" tabindex="-1">2. Run Migrations <a class="header-anchor" href="#_2-run-migrations" aria-label="Permalink to &quot;2. Run Migrations&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set database URL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DATABASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;postgresql://user:pass@host:5432/db&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run migrations</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">psql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DATABASE_URL </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrations/001_add_testing_columns_to_agent_versions.sql</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">psql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DATABASE_URL </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrations/002_create_agenttest_test_results.sql</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">psql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DATABASE_URL </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrations/003_create_agenttest_skills.sql</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">psql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DATABASE_URL </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> migrations/004_create_dashboard_views.sql</span></span></code></pre></div><h3 id="_3-test" tabindex="-1">3. Test <a class="header-anchor" href="#_3-test" aria-label="Permalink to &quot;3. Test&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Test single agent</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src.cli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --agent-id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AGENT_VERSION_I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Auto-discover and test all pending</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src.cli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --auto-discover</span></span></code></pre></div><h3 id="_4-start-api-server" tabindex="-1">4. Start API Server <a class="header-anchor" href="#_4-start-api-server" aria-label="Permalink to &quot;4. Start API Server&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Development</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uvicorn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server:app</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --reload</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Production</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gunicorn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server:app</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -k</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uvicorn.workers.UvicornWorker</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bind</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0.0.0.0:8000</span></span></code></pre></div><hr><h2 id="ğŸ“-project-structure" tabindex="-1">ğŸ“ Project Structure <a class="header-anchor" href="#ğŸ“-project-structure" aria-label="Permalink to &quot;ğŸ“ Project Structure&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ai-factory-testing-framework/</span></span>
<span class="line"><span>â”œâ”€â”€ migrations/              # SQL migrations</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ 001_*.sql</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ 002_*.sql</span></span>
<span class="line"><span>â”‚   â””â”€â”€ ...</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ src/                     # Python source</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ supabase_client.py   # âœ… DONE</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ test_runner.py       # ğŸŸ¡ TODO</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ evaluator.py         # â³ TODO</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ report_generator.py  # â³ TODO</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ reflection_loop.py   # â³ TODO</span></span>
<span class="line"><span>â”‚   â””â”€â”€ skill_loader.py      # â³ TODO</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ scripts/                 # Utility scripts</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ sync_skills_to_supabase.py</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ generate_knowledge_base.py</span></span>
<span class="line"><span>â”‚   â””â”€â”€ ...</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ skills/                  # Skills (Markdown)</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ isabella-sdr/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ assembly-line/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ _templates/</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ templates/               # Jinja2 templates</span></span>
<span class="line"><span>â”‚   â””â”€â”€ report.html</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ tests/                   # Unit tests</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ server.py                # FastAPI server</span></span>
<span class="line"><span>â”œâ”€â”€ config.yaml              # Configuration</span></span>
<span class="line"><span>â”œâ”€â”€ requirements.txt         # Python deps</span></span>
<span class="line"><span>â”œâ”€â”€ HANDOFF.md              # â­ START HERE</span></span>
<span class="line"><span>â””â”€â”€ README.md               # This file</span></span></code></pre></div><hr><h2 id="ğŸ“Š-database-schema" tabindex="-1">ğŸ“Š Database Schema <a class="header-anchor" href="#ğŸ“Š-database-schema" aria-label="Permalink to &quot;ğŸ“Š Database Schema&quot;">â€‹</a></h2><h3 id="new-tables" tabindex="-1">New Tables <a class="header-anchor" href="#new-tables" aria-label="Permalink to &quot;New Tables&quot;">â€‹</a></h3><ol><li><p><strong>agenttest_test_results</strong></p><ul><li>Stores test results</li><li>Links to agent_versions</li><li>Includes scores, details, report URL</li></ul></li><li><p><strong>agenttest_skills</strong></p><ul><li>Stores skills (instructions, examples, rubric)</li><li>Synced from Obsidian/local files</li><li>Versioned per agent</li></ul></li></ol><h3 id="modified-tables" tabindex="-1">Modified Tables <a class="header-anchor" href="#modified-tables" aria-label="Permalink to &quot;Modified Tables&quot;">â€‹</a></h3><ol><li><strong>agent_versions</strong><ul><li>Added: <code>last_test_score</code>, <code>last_test_at</code></li><li>Added: <code>framework_approved</code>, <code>test_report_url</code></li><li>Added: <code>reflection_count</code></li></ul></li></ol><h3 id="new-views" tabindex="-1">New Views <a class="header-anchor" href="#new-views" aria-label="Permalink to &quot;New Views&quot;">â€‹</a></h3><ol><li><strong>vw_agent_performance_summary</strong></li><li><strong>vw_latest_test_results</strong></li><li><strong>vw_agent_conversations_summary</strong></li><li><strong>vw_test_results_history</strong></li><li><strong>vw_agents_needing_testing</strong></li></ol><hr><h2 id="ğŸ¨-skills-system" tabindex="-1">ğŸ¨ Skills System <a class="header-anchor" href="#ğŸ¨-skills-system" aria-label="Permalink to &quot;ğŸ¨ Skills System&quot;">â€‹</a></h2><p>Skills sÃ£o arquivos Markdown que definem:</p><ul><li><strong>INSTRUCTIONS.md</strong>: Custom Instructions (para Claude Project)</li><li><strong>EXAMPLES.md</strong>: Few-shot examples</li><li><strong>RUBRIC.md</strong>: Evaluation criteria</li><li><strong>test-cases.json</strong>: 20+ test scenarios</li></ul><p><strong>SincronizaÃ§Ã£o:</strong></p><ul><li>Local (Obsidian) â†” Supabase (bidirecional)</li><li>Auto-geraÃ§Ã£o de KNOWLEDGE.md com dados reais</li></ul><hr><h2 id="ğŸ§ª-testing" tabindex="-1">ğŸ§ª Testing <a class="header-anchor" href="#ğŸ§ª-testing" aria-label="Permalink to &quot;ğŸ§ª Testing&quot;">â€‹</a></h2><h3 id="test-suite-example" tabindex="-1">Test Suite Example <a class="header-anchor" href="#test-suite-example" aria-label="Permalink to &quot;Test Suite Example&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;test_cases&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Lead frio - primeira mensagem&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;input&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Oi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;expected_behavior&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Pergunta aberta sobre interesse&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;rubric_focus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tone&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;engagement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Lead pergunta preÃ§o&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;input&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Quanto custa?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;expected_behavior&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Ã‚ncora valor + qualificaÃ§Ã£o BANT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;rubric_focus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;compliance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;completeness&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="rubric-5-dimensions" tabindex="-1">Rubric (5 Dimensions) <a class="header-anchor" href="#rubric-5-dimensions" aria-label="Permalink to &quot;Rubric (5 Dimensions)&quot;">â€‹</a></h3><ol><li><strong>Completeness (25%)</strong>: BANT completo?</li><li><strong>Tone (20%)</strong>: Tom consultivo, empÃ¡tico?</li><li><strong>Engagement (20%)</strong>: Lead respondeu mÃºltiplas vezes?</li><li><strong>Compliance (20%)</strong>: Seguiu guardrails?</li><li><strong>Conversion (15%)</strong>: Agendou/converteu?</li></ol><p><strong>Threshold:</strong> 8.0/10 para aprovaÃ§Ã£o</p><hr><h2 id="ğŸ”„-reflection-loop-auto-improvement" tabindex="-1">ğŸ”„ Reflection Loop (Auto-Improvement) <a class="header-anchor" href="#ğŸ”„-reflection-loop-auto-improvement" aria-label="Permalink to &quot;ğŸ”„ Reflection Loop (Auto-Improvement)&quot;">â€‹</a></h2><p>Workflow:</p><ol><li>Agent testa e recebe score &lt; 8.0</li><li>Framework analisa <code>weaknesses</code> e <code>failures</code></li><li>Gera prompt melhorado (v2)</li><li>Cria nova <code>agent_version</code> com v2</li><li>Testa v2 automaticamente</li><li>Se v2 &gt; v1: aprova e ativa</li><li>Se v2 â‰¤ v1: rollback, mantÃ©m v1</li></ol><hr><h2 id="ğŸŒ-api-endpoints" tabindex="-1">ğŸŒ API Endpoints <a class="header-anchor" href="#ğŸŒ-api-endpoints" aria-label="Permalink to &quot;ğŸŒ API Endpoints&quot;">â€‹</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST   /api/test-agent           # Queue test</span></span>
<span class="line"><span>GET    /api/agents                # List all agents</span></span>
<span class="line"><span>GET    /api/agent/{id}            # Agent details</span></span>
<span class="line"><span>GET    /api/agent/{id}/tests      # Test history</span></span>
<span class="line"><span>GET    /api/agent/{id}/skill      # Current skill</span></span>
<span class="line"><span>POST   /api/agent/{id}/skill      # Update skill</span></span>
<span class="line"><span>GET    /api/test-results/{id}     # Test result details</span></span></code></pre></div><hr><h2 id="ğŸ“ˆ-metrics-monitoring" tabindex="-1">ğŸ“ˆ Metrics &amp; Monitoring <a class="header-anchor" href="#ğŸ“ˆ-metrics-monitoring" aria-label="Permalink to &quot;ğŸ“ˆ Metrics &amp; Monitoring&quot;">â€‹</a></h2><p>Dashboard mostra:</p><ul><li>Score mÃ©dio por agente</li><li>Conversas Ãºltimos 7/30 dias</li><li>Taxa de aprovaÃ§Ã£o</li><li>HistÃ³rico de melhorias (reflection count)</li><li>Tokens consumidos / custo</li></ul><hr><h2 id="ğŸ”-environment-variables" tabindex="-1">ğŸ” Environment Variables <a class="header-anchor" href="#ğŸ”-environment-variables" aria-label="Permalink to &quot;ğŸ” Environment Variables&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Supabase</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SUPABASE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://xxx.supabase.co</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SUPABASE_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">eyJhb...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SUPABASE_SERVICE_ROLE_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">eyJhb...</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Admin operations</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Anthropic</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ANTHROPIC_API_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sk-ant-api...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Optional</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SLACK_WEBHOOK_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://hooks.slack.com/...</span></span></code></pre></div><hr><h2 id="ğŸ›-troubleshooting" tabindex="-1">ğŸ› Troubleshooting <a class="header-anchor" href="#ğŸ›-troubleshooting" aria-label="Permalink to &quot;ğŸ› Troubleshooting&quot;">â€‹</a></h2><h3 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">â€‹</a></h3><ol><li><p><strong>Migrations fail</strong></p><ul><li>Check <code>DATABASE_URL</code> is correct</li><li>Ensure user has CREATE TABLE permissions</li><li>Check if tables already exist</li></ul></li><li><p><strong>Claude Opus rate limit</strong></p><ul><li>Implement exponential backoff</li><li>Reduce concurrent tests</li><li>Use batching</li></ul></li><li><p><strong>Reports not generating</strong></p><ul><li>Check <code>/mnt/user-data/outputs/</code> permissions</li><li>Verify Jinja2 template exists</li><li>Check logs in <code>logs/framework.log</code></li></ul></li></ol><hr><h2 id="ğŸ“š-documentation" tabindex="-1">ğŸ“š Documentation <a class="header-anchor" href="#ğŸ“š-documentation" aria-label="Permalink to &quot;ğŸ“š Documentation&quot;">â€‹</a></h2><ul><li><strong><a href="./HANDOFF.html">HANDOFF.md</a></strong> - â­ Start here for implementation</li><li><strong><a href="./ARCHITECTURE.html">ARCHITECTURE.md</a></strong> - System design</li><li><strong><a href="./API.html">API.md</a></strong> - API documentation</li><li><strong><a href="./SKILLS.html">SKILLS.md</a></strong> - Skills system guide</li></ul><hr><h2 id="ğŸ¤-contributing" tabindex="-1">ğŸ¤ Contributing <a class="header-anchor" href="#ğŸ¤-contributing" aria-label="Permalink to &quot;ğŸ¤ Contributing&quot;">â€‹</a></h2><ol><li>Read <code>HANDOFF.md</code></li><li>Pick a task from TODO list</li><li>Create feature branch</li><li>Submit PR with tests</li></ol><hr><h2 id="ğŸ“„-license" tabindex="-1">ğŸ“„ License <a class="header-anchor" href="#ğŸ“„-license" aria-label="Permalink to &quot;ğŸ“„ License&quot;">â€‹</a></h2><p>MIT License - Copyright (c) 2024 MOTTIVME</p><hr><h2 id="ğŸ™-credits" tabindex="-1">ğŸ™ Credits <a class="header-anchor" href="#ğŸ™-credits" aria-label="Permalink to &quot;ğŸ™ Credits&quot;">â€‹</a></h2><ul><li><strong>Marcos Daniels</strong> - Product &amp; Architecture</li><li><strong>Claude (Anthropic)</strong> - Code generation</li><li><strong>AI Factory Team</strong> - Testing &amp; feedback</li></ul><hr><h2 id="ğŸ“-support" tabindex="-1">ğŸ“ Support <a class="header-anchor" href="#ğŸ“-support" aria-label="Permalink to &quot;ğŸ“ Support&quot;">â€‹</a></h2><ul><li>Slack: #ai-factory-testing</li><li>Email: <a href="mailto:dev@mottivme.com" target="_blank" rel="noreferrer">dev@mottivme.com</a></li><li>Docs: <a href="https://docs.mottivme.com/testing-framework" target="_blank" rel="noreferrer">https://docs.mottivme.com/testing-framework</a></li></ul><hr><p><strong>Built with â¤ï¸ by MOTTIVME</strong></p>`,78)])])}const g=a(t,[["render",l]]);export{d as __pageData,g as default};
